plugins {
	id "java"
	id "maven"
//  id "eclipse"
//  id "idea"
    id 'pl.allegro.tech.build.axion-release' version '1.4.0'
}

scmVersion {
    tag {
        prefix = 'GoldMonkey'
    }
}

project.version = scmVersion.version

//name = the directory name
//version = "0.1.0"
//version = "0.1.0-SNAPSHOT-${new Date().format("yyyyMMdd-HHmmss")}"
group = "com.pesegato"


ext {
	jmonkeyengine_version = '[3.1,)'
}

repositories {
	mavenLocal()
    jcenter()
}

dependencies {
	compile fileTree(dir: 'lib', include: ['*.jar'])
        
    	compile "org.jmonkeyengine:jme3-core:$jmonkeyengine_version"
		compile 'org.slf4j:slf4j-api:1.7.13'
	    compile 'com.google.guava:guava:19.0'
		compile 'com.google.code.gson:gson:2.7'
		runtime 'ch.qos.logback:logback-classic:1.1.2'

}

sourceCompatibility = '1.8'
[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'

compileJava.doLast {
	def buildDate = new Date().format('yyyy-MM-dd HHmm')
	println "Writing goldmonkey.build.date: " + buildDate
	new File(destinationDir, 'goldmonkey.build.date').text = buildDate
}